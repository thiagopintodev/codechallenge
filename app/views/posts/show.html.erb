<%= render @post %>

<h2>Comments</h2>

<div id="comments">
  <% @comments.each do |comment| %>
    <%= render comment %>
  <% end %>
  <% if @comments %>
  	<p>No comments here yet.</p>
  <% end -%>
  <%= render '/comments/before_comment' if @before_comment_id %>
</div>

<%# ad hoc demonstration 'custom helper to hide the buttons' %>
<%# if can_user_edit? %>

<%# ad hoc demonstration 'authenticated users see buttons, but see alert message' %>
<% if current_user %>
<% content_for :sidebar do %>

<div class="d-grid gap-2">
  <%= link_to	"Edit this post",
  				"#",
				class: 'btn btn-secondary',
				onclick: "DeviatingInAComprehensibleMaintainableWay.fetch_modal('#{edit_post_path(@post, :js)}'); return false;"
				%>
  <%= link_to	"Remove this post",
  				'#',
  				class: 'btn btn-secondary',
				onclick: "DeviatingInAComprehensibleMaintainableWay.fetch_modal('#{remove_post_path(@post, :js)}'); return false;"
  				%>
  <%= link_to	"Comment on this post",
  				'#',
  				class: 'btn btn-secondary',
				onclick: "DeviatingInAComprehensibleMaintainableWay.fetch_modal('#{new_post_comment_path(@post, :js)}'); return false;"
  				%>
</div>

<% end %>
<% end %>
